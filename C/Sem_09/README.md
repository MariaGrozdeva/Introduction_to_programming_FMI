# Динамична памет

## Заделяне на памет: `malloc` и `calloc`
В **C** динамичната памет се заделя с помощта на функциите **`malloc`** и **`calloc`**, които се намират в библиотеката `<stdlib.h>`.  

### `malloc` (Memory Allocation)
Функцията `malloc` заделя определен брой байтове в паметта, но не инициализира тази памет.  
```c
void* malloc(size_t size);
```
Пример:  
```c
int* foo = (int*)malloc(5 * sizeof(int)); // Заделяне на памет за 5 цели числа
```
![alt_text](https://github.com/MariaGrozdeva/Introduction_to_programming_FMI/blob/main/C/Sem_09/images/Foo.png)  

### `calloc` (Contiguous Allocation)
Функцията `calloc` заделя памет за масив от елементи и инициализира всички байтове в тази памет с нули.  
```c
void* calloc(size_t num, size_t size);
```
Пример:  
```c
int* ptr = (int*)calloc(5, sizeof(int)); // Заделяне на памет за 5 цели числа и инициализиране с 0
```

И двете функции връщат указател от тип `void*`, който трябва да бъде преобразуван към съответния тип. Ако заделянето на памет е неуспешно, те връщат `NULL`.

## Освобождаване на памет: `free`
Паметта, заделена в стека, се освобождава автоматично. Например, при деклариране на локална променлива във функция се заделя памет за нея, при приключване на функцията – паметта се освобождава. При динамичната памет ние трябва да се грижим за нейното освобождаване – когато вече не ни е нужна, трябва да я "декларираме" като свободна, за да може да бъде използвана от други. Това се постига чрез функцията **free**.
```c
void free(void* ptr);
```
Пример:  
```c
int* ptr = (int*)malloc(5 * sizeof(int));
// Използване на заделената памет
free(ptr); // Освобождаване на паметта, когато вече не е нужна
```

:bangbang: За всяко malloc или calloc задължително трябва да има съответстващо free. :bangbang:

## Преоразмеряване на памет: `realloc`
Функцията `realloc` позволява да се промени размерът на вече заделен блок памет.
```c
void* realloc(void* ptr, size_t newSize);
```
Пример:  
```c
int* ptr = (int*)malloc(5 * sizeof(int));
if (ptr != NULL)
{
    ptr = (int*)realloc(ptr, 10 * sizeof(int)); // Преоразмеряване на блока за 10 цели числа
}
```

![alt_text](https://github.com/MariaGrozdeva/Introduction_to_programming_FMI/blob/main/C/Sem_09/images/StackHeap.png)  

---

## Задачи
**Задача 1:** Да се напише функция *insertAt(index, element)*, която  
добавя елемент на дадена позиция в динамичен масив. ***Масивът да се преоразмери с точна големина!***  
```c++ 
8 12 92 32 4,
insertAt(4, 123);
8 12 92 32 123 4
```

**Задача 2:** Да се напише функция *removeAt(index)*, която  
премахва елемент от дадена позиция в динамичен масив. ***Масивът да се преоразмери с точна големина!***  
```c++ 
8 12 92 32 4,
removeAt(1);
8 92 32 4
```

**Задача 3:** Да се напише функция, която приема низ и връща нов низ, в който са премахнати всички цифри от първия. ***Новият низ да бъде с точна дължина!***  
*Вход: "i1v2an345cho", Изход: "ivancho"*  

**Задача 4:** Да се напише функция, която приема низ и връща два нови низа uppercaseStr и lowercaseStr такива че:  
uppercaseStr съдържа *само главните букви* от подадения низ,  
lowercaseStr съдържа *само малките букви* от подадения низ.  
Останалите символи се игнорират. ***uppercaseStr и lowercaseStr да бъдат с точна дължина!***  
*Вход: "I am the best Player"  
Изход: "IP" &nbsp;&nbsp;&nbsp; "amthebestlayer"*  

**Задача 5:** Да се напише функция, която филтрира всички прости числа от зададен динамичен масив. ***Масивът да се преоразмери с точна големина!***  
*Вход: [3 5 8 7 11 24 42], Изход: [3 5 7 11]*  

**Задача 6:** Да се напише функция, която обединява два сортирани динамични масива, като резултатният масив остава сортиран. ***Последният да е с точна големина!***  
*Вход: [1 3 5 10 21] &nbsp;&nbsp; [2 7 12 32], Изход: [1 2 3 5 7 10 12 21 32]*  

**Задача 7:** Да се напише функция, която приема низ и "патърн" и връща нов низ, в който всяко число е цензурирано с подадения "патърн". ***Резултатният низ да е с точна дължина!***  
*Вход: "test124again4pocket55p" &nbsp;&nbsp;&nbsp; "_NUM_",  
Изход: "test_NUM_again_NUM_pocket_NUM_p"*  

**Задача 8:** Да се напише функция, която приема текст с произволна дължина. Всяко срещане на цифра да се замени с нейното наименувание. ***Масивът да се преоразмери с точна големина!***  
*Вход: "Hello 9 today is 54 very0 good day."  
Изход: "Hello nine today is fivefour veryzero good day."*  

**Задача 9:** Да се напише функция, която приема низ и връща нов низ, в който всяко число е увеличено с единица. ***Резултатният низ да е с точна дължина!***  
*Вход: "It's 2024 and I am 19 years old."  
Изход: "It's 2025 and I am 20 years old."*  

*Вход: "After 99 comes 100."  
Изход: "After 100 comes 101."*  
